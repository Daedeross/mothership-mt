[h: macroArgs = trim(replace(macro.args, "cachelib=false ;", ""))]
[h: stat = json.get(macroArgs, "stat")]
[h: mode = json.get(macroArgs, "mode")]
[h: assert(mode == "" || mode == "+" || mode == "-", "mode (arg(2)) must be '', '+', or '-'")]
[h: output = json.get(macroArgs, "output")]
[h, if(json.contains(macroArgs, "id")): id = json.get(macroArgs, "id"); id = currentToken() ]
[h: target = getProperty(stat, id)]
[h: assert(isNumber(target), strformat("Stat '%s' not found on token.", stat))]
[h: target = number(target)]
[h: rollArgs = json.append("[]", target, mode, stat, output, id)]
[h, macro("makeRoll@this"): rollArgs]
[h: link = macroLinkText("showText@this", output, macro.return, id)]
[h: execLink(link)]